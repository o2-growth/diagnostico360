
@tailwind base;
@tailwind components;
@tailwind utilities;
 
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.75rem;

    --dashboard-dark: 60 1% 8%;
    --dashboard-light: 60 6% 98%;
    --dashboard-accent1: 240 53% 71%;
    --dashboard-accent2: 211 85% 66%;
    --dashboard-accent3: 126 29% 62%;
    --dashboard-text: 40 4% 76%;
    --dashboard-muted: 50 3% 51%;
    --dashboard-card: 60 3% 10%;
  }

  .dark {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;
    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;
    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;
    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;
    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;
    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;
    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;

    --dashboard-dark: 60 1% 8%;
    --dashboard-light: 60 6% 98%;
    --dashboard-accent1: 240 53% 71%;
    --dashboard-accent2: 211 85% 66%;
    --dashboard-accent3: 126 29% 62%;
    --dashboard-text: 40 4% 76%;
    --dashboard-muted: 50 3% 51%;
    --dashboard-card: 60 3% 10%;
  }

  :root.light {
    --dashboard-dark: 0 0% 98%;
    --dashboard-light: 240 10% 13%;
    --dashboard-accent1: 240 53% 51%;
    --dashboard-accent2: 211 85% 46%;
    --dashboard-accent3: 126 29% 42%;
    --dashboard-text: 222 14% 16%;
    --dashboard-muted: 220 9% 46%;
    --dashboard-card: 220 13% 95%;
  }
}

@layer base {
  body {
    @apply bg-dashboard-dark text-dashboard-light;
  }

  * {
    @apply border-border;
  }

  /* Smooth scrolling */
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  .glass-card {
    @apply bg-dashboard-card bg-opacity-50 backdrop-blur-lg border border-white/10 rounded-xl;
  }

  .dashboard-card {
    @apply p-6 transition-all duration-300 hover:border-white/20;
    @apply bg-dashboard-card bg-opacity-50 backdrop-blur-lg border border-white/10 rounded-xl;
    @apply shadow-sm shadow-black/10;
  }

  .metric-card {
    @apply relative flex flex-col items-center justify-center p-8;
    @apply bg-dashboard-card bg-opacity-50 backdrop-blur-lg border border-white/10 rounded-xl;
    @apply transition-all duration-300 hover:border-white/20;
    @apply shadow-sm shadow-black/10;
  }

  :root.light .glass-card {
    @apply border-black/20 shadow-sm;
  }

  :root.light .dashboard-card {
    @apply border-black/20 hover:border-black/30 shadow-md shadow-black/5;
  }

  :root.light .metric-card {
    @apply border-black/20 hover:border-black/30 shadow-md shadow-black/5;
  }

  :root.light [data-state="active"] {
    @apply text-dashboard-light bg-dashboard-light/10;
  }

  :root.light [role="tablist"] button {
    @apply text-dashboard-light;
  }
}

/* Mobile sidebar backdrop */
.sidebar-backdrop {
  position: fixed;
  inset: 0;
  z-index: 40;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(2px);
}

@media (max-width: 767px) {
  /* Ensure main content doesn't shift for mobile overlay sidebar */
  .ml-64 {
    margin-left: 0 !important;
  }
  .ml-16 {
    margin-left: 0 !important;
  }
}

@media print {
  /* Reset all backgrounds and colors for print */
  * {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  body {
    background: white !important;
    color: #1f2937 !important;
    font-size: 11pt !important;
    line-height: 1.4 !important;
  }

  /* Cards */
  .glass-card, .dashboard-card, .metric-card {
    border: 1px solid #d1d5db !important;
    background: #fafafa !important;
    color: #1f2937 !important;
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Hide navigation/sidebar */
  [data-print-hide] {
    display: none !important;
  }

  /* Reset padding from sidebar */
  .print\:pl-0 {
    padding-left: 0 !important;
  }

  /* Tables */
  table {
    border-collapse: collapse !important;
    width: 100% !important;
  }

  th, td {
    border-bottom: 1px solid #e5e7eb !important;
    color: #1f2937 !important;
    padding: 6px 8px !important;
  }

  th {
    background: #f3f4f6 !important;
    font-weight: 600 !important;
  }

  tr.bg-red-500\/5 {
    background: #fef2f2 !important;
  }

  /* Text colors for print */
  .text-dashboard-muted {
    color: #6b7280 !important;
  }

  .text-dashboard-text {
    color: #374151 !important;
  }

  .text-dashboard-accent3 {
    color: #059669 !important;
  }

  /* Progress bars - make visible */
  .h-2.rounded-full {
    border: 1px solid #d1d5db !important;
    background: #f3f4f6 !important;
  }

  /* Headings */
  h1, h2, h3, h4 {
    color: #111827 !important;
    page-break-after: avoid !important;
  }

  /* Sections break smart */
  section {
    break-inside: avoid !important;
    page-break-inside: avoid !important;
  }

  /* Department analysis cards can break */
  section > .dashboard-card {
    break-inside: auto !important;
    page-break-inside: auto !important;
  }

  /* Badges/labels */
  span[style*="backgroundColor"] {
    border: 1px solid currentColor !important;
  }

  /* Recharts - ensure SVG renders */
  .recharts-wrapper {
    break-inside: avoid !important;
  }

  /* Hide CTA/WhatsApp section in print */
  a[href*="wa.me"] {
    display: none !important;
  }

  /* Gradient text fix - print doesn't support gradient text */
  .bg-gradient-to-r.text-transparent {
    background: none !important;
    -webkit-background-clip: unset !important;
    background-clip: unset !important;
    -webkit-text-fill-color: #059669 !important;
    color: #059669 !important;
  }

  /* Link styles for print */
  a {
    color: #1f2937 !important;
    text-decoration: none !important;
  }

  /* Grid adjustments */
  .grid {
    break-inside: avoid !important;
  }

  /* Page margins */
  @page {
    margin: 1.5cm 1cm;
    size: A4;
  }

  /* First page header */
  header {
    break-inside: avoid !important;
  }

  /* Circular progress - needs to be visible */
  .CircularProgressbar {
    break-inside: avoid !important;
  }

  /* Footer */
  footer {
    border-top: 1px solid #d1d5db !important;
    break-inside: avoid !important;
  }
}
